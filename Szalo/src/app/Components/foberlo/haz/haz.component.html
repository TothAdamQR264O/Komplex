<div class="row"  *ngIf="changeVisable()">
    <div>Hirdetett házak</div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Helyrajzi szám</th>
            <th scope="col">Írszám</th>
            <th scope="col">Település</th>
            <th scope="col">Cím</th>
            <th scope="col">Szerkesztés</th>
            <th scope="col">Jelentkezők</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <tr *ngFor="let haz of hazak">
            <th scope="col">{{ haz.hrsz }}</th>
            <th scope="col">{{ haz.irsz }}</th>
            <th scope="col">{{ haz.telepules }}</th>
            <th scope="col">{{ haz.cim }}</th>
            <th scope="col"><button class="btn btn-outline-primary" (click)="changeHouseValue(haz.id)">Szerkesztés</button></th>
            <th scope="col"><button class="btn btn-outline-primary" (click)="goToTheApplys(haz.id)">Jelentkezők</button></th>
          </tr>
        </tbody>
      </table>
    <div class="text-center">
        <button class="btn btn-outline-primary" (click)="creatHouse()">+</button>
    </div>
</div>

<div class="row" *ngIf="changeVisable()">
    <div>Aktív szerződések</div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Település</th>
            <th scope="col">Cím</th>
            <th scope="col">Kezdődátum</th>
            <th scope="col">Végdátum</th>
            <th scope="col">Kezelés</th>
            <th scope="col">Lezárás</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <tr *ngFor="let szerzodes of sajatSzerzodesek">
            <th scope="col">{{ szerzodes.hid.telepules }}</th>
            <th scope="col">{{ szerzodes.hid.cim }}</th>
            <th scope="col">{{ szerzodes.kezdido }}</th>
            <th scope="col">{{ szerzodes.vegido }}</th>
            <th scope="col"><button class="btn btn-outline-primary" (click)="goToTheApply(szerzodes.id)">Kezelés</button></th>
            <th scope="col"><button class="btn btn-outline-danger" (click)="szerzodesLezaras(szerzodes.id)">Lezárás</button></th>
          </tr>
        </tbody>
      </table>
</div>

<div class="row"  *ngIf="changeVisable()">
    <div>Nem hírdetett házak</div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Helyrajzi szám</th>
            <th scope="col">Írszám</th>
            <th scope="col">Település</th>
            <th scope="col">Cím</th>
            <th scope="col">Szerkesztés</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <tr *ngFor="let haziko of hazakNoAd">
            <th scope="col">{{ haziko.hrsz }}</th>
            <th scope="col">{{ haziko.irsz }}</th>
            <th scope="col">{{ haziko.telepules }}</th>
            <th scope="col">{{ haziko.cim }}</th>
            <th scope="col"><button class="btn btn-outline-primary" (click)="changeHouseValue(haziko.id)">Szerkesztés</button></th>
          </tr>
        </tbody>
      </table>
</div>

<div class="row justify-content-center" *ngIf="!changeVisable()">
    <div class="col-md-12">
        <h4>Ház felivitel</h4>
        <hr>
    </div>
    
</div>

<div class="row justify-content-center">
    <div class="col-md-6">
        <form [formGroup]="hazForm" *ngIf="!changeVisable()">
            <div class="mb-3">
                <label for="hrsz" class="form-label">Helyrajzi szám</label>
                <input type="text" class="form-control" id="hrsz" name="hrsz" placeholder="12345/1/A/1" formControlName="hrsz">
                <small class="text-danger" *ngIf="(hazForm.get('hrsz')?.touched || hazForm.get('hrsz')?.dirty) && hazForm.get('hrsz')?.hasError('required')">
                    A helyrajzi szám megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="irsz" class="form-label">Irányítószám</label>
                <input type="number" class="form-control" id="irsz" name="irsz" placeholder="3533" formControlName="irsz">
                <small class="text-danger" *ngIf="(hazForm.get('irsz')?.touched || hazForm.get('irsz')?.dirty) && hazForm.get('irsz')?.hasError('required')">
                    Az irányítószám megadása kötelező.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('irsz')?.touched || hazForm.get('irsz')?.dirty) && hazForm.get('irsz')?.hasError('min')">
                    Az irányítószám túl kicsi.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('irsz')?.touched || hazForm.get('irsz')?.dirty) && hazForm.get('irsz')?.hasError('max')">
                    Az irányítószám túl nagy.
                </small>
            </div>
            <div class="mb-3">
                <label for="telepules" class="form-label">Telepules</label>
                <input type="text" class="form-control" id="telepules" name="telepules" placeholder="Msikolc" formControlName="telepules">
                <small class="text-danger" *ngIf="(hazForm.get('telepules')?.touched || hazForm.get('telepules')?.dirty) && hazForm.get('telepules')?.hasError('required')">
                    A telepules megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="cim" class="form-label">Cím</label>
                <input type="text" class="form-control" id="cim" name="cim" placeholder="Csermőkei dülő 25" formControlName="cim">
                <small class="text-danger" *ngIf="(hazForm.get('cim')?.touched || hazForm.get('cim')?.dirty) && hazForm.get('cim')?.hasError('required')">
                    A cím megadása kötelező.
                </small>
            </div>

            <label for="reszi" class="form-label">Reszi</label>
            <div class="input-group mb-3">
                <input type="number" class="form-control" id="reszi" name="reszi" placeholder="4000" formControlName="reszi"> 
                <div class="input-group-prepend">
                    <span class="input-group-text">Ft</span>
                </div>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('reszi')?.touched || hazForm.get('reszi')?.dirty) && hazForm.get('reszi')?.hasError('required')">
                A rezsi megadása kötelező.
            </small>
            <small class="text-danger" *ngIf="(hazForm.get('reszi')?.touched || hazForm.get('reszi')?.dirty) && hazForm.get('reszi')?.hasError('min')">
                A reszi értéke nem lehet minusz.
            </small>

            <div>
                <label for="ar" class="form-label">Ár</label>
            </div>
            <div class="input-group mb-3">
                <input type="number" class="form-control" id="ar" name="ar" placeholder="43000" formControlName="ar">
                <div class="input-group-prepend">
                    <span class="input-group-text">Ft</span>
                </div>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('ar')?.touched || hazForm.get('ar')?.dirty) && hazForm.get('ar')?.hasError('required')">
                Az ár megadása kötelező.
            </small>
            <small class="text-danger" *ngIf="(hazForm.get('ar')?.touched || hazForm.get('ar')?.dirty) && hazForm.get('ar')?.hasError('min')">
                Az árnak magasabbnak kell lennie 0 Ft-nál.
            </small>

            <div class="mb-3">
                <label for="szobakszama" class="form-label">Szobák száma</label>
                <input type="number" class="form-control" id="szobakszama" name="szobakszama" placeholder="2" formControlName="szobakszama">
                <small class="text-danger" *ngIf="(hazForm.get('szobakszama')?.touched || hazForm.get('szobakszama')?.dirty) && hazForm.get('szobakszama')?.hasError('required')">
                    A szobák számának megadása kötelező.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('szobakszama')?.touched || hazForm.get('szobakszama')?.dirty) && hazForm.get('szobakszama')?.hasError('min')">
                    A szobák számának több nek kell leni 0-nál.
                </small>
            </div>

            <label for="meret" class="form-label">Méret</label>
            <div class="input-group mb-3">
                <input type="number" class="form-control" id="meret" name="meret" placeholder="30" formControlName="meret">
                <div class="input-group-prepend">
                    <span class="input-group-text">m<sup>2</sup></span>
                </div>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('meret')?.touched || hazForm.get('meret')?.dirty) && hazForm.get('meret')?.hasError('required')">
                A méret megadása kötelező.
            </small>
            <small class="text-danger" *ngIf="(hazForm.get('meret')?.touched || hazForm.get('meret')?.dirty) && hazForm.get('meret')?.hasError('min')">
                A méretnek töbnek kell lennie 0 m<sup>2</sup>-nél.
            </small>

            <div class="mb-3">
                <label for="alapot" class="form-label">Álapot</label>
                <select name="alapot" id="alapot" class="form-select" formControlName="alapot">
                    <option value="Új építésű">Új építésű</option>
                    <option value="Újszerű">Újszerű</option>
                    <option value="Felújított">Felújított</option>
                    <option value="Jó állapotú">Jó állapotú</option>
                    <option value="Közepes állapotú">Közepes állapotú</option>
                    <option value="Felújítandó">Felújítandó</option>
                    <option value="Befejezetlen">Befejezetlen</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('alapot')?.touched || hazForm.get('alapot')?.dirty) && hazForm.get('alapot')?.hasError('required')">
                    Az álapot megadása kötelező.
                </small>
            </div>
            <!--<div class="mb-3">
                <label for="konfort" class="form-label">Konfort</label>
                <select name="konfort" id="konfort" class="form-select" formControlName="konfort">
                    <option value="Luxus">Luxus</option>
                    <option value="Duplakonfort">Duplakonfort</option>
                    <option value="Összkonfort">Összkonfort</option>
                    <option value="Konfortos">Konfortos</option>
                    <option value="Félkonfortos">Félkonfortos</option>
                    <option value="Konfort nélküli">Konfort nélküli</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('konfort')?.touched || hazForm.get('konfort')?.dirty) && hazForm.get('konfort')?.hasError('required')">
                    A konfort megadása kötelező.
                </small>
            </div>-->

            <div *ngFor="let konfort of konfortArr">
            <input type="radio" name="konfort" id="konfort" for="konfort" formControlName="konfort" value="{{konfort.value}}" (change)="onRadioChange($event)">
            <label>{{konfort.label}}</label>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('konfort')?.touched || hazForm.get('konfort')?.dirty) && hazForm.get('konfort')?.hasError('required')">
                A konfort megadása kötelező.
            </small>


            <div class="mb-3">
                <label for="emelet" class="form-label">Emelet</label>
                <input type="number" class="form-control" id="emelet" name="emelet" placeholder="3" formControlName="emelet">
                <small class="text-danger" *ngIf="(hazForm.get('emelet')?.touched || hazForm.get('emelet')?.dirty) && hazForm.get('emelet')?.hasError('required')">
                    Az emelet megadása kötelező.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('emelet')?.touched || hazForm.get('emelet')?.dirty) && hazForm.get('emelet')?.hasError('min')">
                    Az emelet értéke nem lehet minusz.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('emelet')?.touched || hazForm.get('emelet')?.dirty) && hazForm.get('emelet')?.hasError('elteroEmelet')">
                    Az épület szintjéhez képest ez már nem létező emelet.
                </small>
            </div>
            <div class="mb-3">
                <label for="szint" class="form-label">Épület szintjeinek száma</label>
                <input type="number" class="form-control" id="szint" name="szint" placeholder="10" formControlName="szint">
                <small class="text-danger" *ngIf="(hazForm.get('szint')?.touched || hazForm.get('szint')?.dirty) && hazForm.get('szint')?.hasError('required')">
                    Az épület szintjeinek számának megadása kötelező.
                </small>
                <small class="text-danger" *ngIf="(hazForm.get('szint')?.touched || hazForm.get('szint')?.dirty) && hazForm.get('szint')?.hasError('min')">
                    Az épület szintjeinek számának értéke nem lehet minusz.
                </small>
            </div>

            <!--<div class="mb-3">
                <label for="lift" class="form-label">Lift</label>
                <select name="lift" id="lift" class="form-select" formControlName="lift">
                    <option value="Nincs">Nincs</option>
                    <option value="Van">Van</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('lift')?.touched || hazForm.get('lift')?.dirty) && hazForm.get('lift')?.hasError('required')">
                    A lift megadása kötelező.
                </small>
            </div>-->

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="lift" (change)="onSwicChange($event)">
                <label class="form-check-label" for="lift">Lift</label>
            </div>
            
            <div class="mb-3">
                <label for="legkondi" class="form-label">Légkondicionáló</label>
                <select name="legkondi" id="legkondi" class="form-select" formControlName="legkondi">
                    <option value="Nincs">Nincs</option>
                    <option value="Van">Van</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('legkondi')?.touched || hazForm.get('legkondi')?.dirty) && hazForm.get('legkondi')?.hasError('required')">
                    A légkondicionáló megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="butorozott" class="form-label">Bútorozott</label>
                <select name="butorozott" id="butorozott" class="form-select" formControlName="butorozott">
                    <option value="Nem">Nem</option>
                    <option value="Igen">Igen</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('butorozott')?.touched || hazForm.get('butorozott')?.dirty) && hazForm.get('butorozott')?.hasError('required')">
                    A bútorzat megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="koltozheto" class="form-label">Költözhető</label>
                <select name="koltozheto" id="koltozheto" class="form-select" formControlName="koltozheto">
                    <option value="Nem">Nem</option>
                    <option value="Igen">Igen</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('koltozheto')?.touched || hazForm.get('koltozheto')?.dirty) && hazForm.get('koltozheto')?.hasError('required')">
                    A költözhető megadása kötelező.
                </small>
            </div>

            <label for="minberido" class="form-label">Minimális bérlési idő</label>
            <div class="input-group mb-3">
                <input type="number" class="form-control" id="minberido" name="minberido" placeholder="6" formControlName="minberido">
                <div class="input-group-prepend">
                    <span class="input-group-text">hó</span>
                </div>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('minberido')?.touched || hazForm.get('minberido')?.dirty) && hazForm.get('minberido')?.hasError('required')">
                A minimális bérlési idő megadása kötelező.
            </small>
            <small class="text-danger" *ngIf="(hazForm.get('minberido')?.touched || hazForm.get('minberido')?.dirty) && hazForm.get('minberido')?.hasError('min')">
                A minimális bérlési időnek több nek kell lenie 0-nál.
            </small>

            <div class="mb-3">
                <label for="fureswc" class="form-label">Fűrdő és WC</label>
                <select name="fureswc" id="fureswc" class="form-select" formControlName="fureswc">
                    <option value="Külön helyiségben">Külön helyiségben</option>
                    <option value="Egy helyiségben">Egy helyiségben</option>
                    <option value="Külön és egyben is">Külön és egyben is</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('fureswc')?.touched || hazForm.get('fureswc')?.dirty) && hazForm.get('fureswc')?.hasError('required')">
                    A fűrdő és wc megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="kilatas" class="form-label">Kilását</label>
                <select name="kilatas" id="kilatas" class="form-select" formControlName="kilatas">
                    <option value="Udvari">Udvari</option>
                    <option value="Utcára néző">Utcára néző</option>
                    <option value="Panorámás">Panorámás</option>
                    <option value="Kertre néző">Kertre néző</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('kilatas')?.touched || hazForm.get('kilatas')?.dirty) && hazForm.get('kilatas')?.hasError('required')">
                    A kilátás megadása kötelező.
                </small>
            </div>
            <div class="mb-3">
                <label for="gepesitet" class="form-label">Gépesítet</label>
                <select name="gepesitet" id="gepesitet" class="form-select" formControlName="gepesitet">
                    <option value="Nem">Nem</option>
                    <option value="Igen">Igen</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('gepesitet')?.touched || hazForm.get('gepesitet')?.dirty) && hazForm.get('gepesitet')?.hasError('required')">
                    A gépesítés megadása kötelező.
                </small>
            </div>

            <label for="erkelymeret" class="form-label">Erkély mérete</label>
            <div class="input-group mb-3">
                <input type="number" class="form-control" id="erkelymeret" name="erkelymeret" placeholder="3" formControlName="erkelymeret">
                <div class="input-group-prepend">
                    <span class="input-group-text">m<sup>2</sup></span>
                </div>
            </div>
            <small class="text-danger" *ngIf="(hazForm.get('erkelymeret')?.touched || hazForm.get('erkelymeret')?.dirty) && hazForm.get('erkelymeret')?.hasError('required')">
                Az erkély méretének megadása kötelező.
            </small>
            <small class="text-danger" *ngIf="(hazForm.get('erkelymeret')?.touched || hazForm.get('erkelymeret')?.dirty) && hazForm.get('erkelymeret')?.hasError('min')">
                Az erkély méretének értéke nem lehet minusz.
            </small>
            <div class="mb-3">
                <label for="hirdet" class="form-label">Meghirdet</label>
                <select name="hirdet" id="hirdet" class="form-select" formControlName="hirdet">
                    <option value="Nem">Nem</option>
                    <option value="Igen">Igen</option>
                </select>
                <small class="text-danger" *ngIf="(hazForm.get('hirdet')?.touched || hazForm.get('hirdet')?.dirty) && hazForm.get('hirdet')?.hasError('required')">
                    A meghirdetés megadása kötelező.
                </small>
            </div>

            <div class="input-group">
                <button class="btn btn-outline-primary" (click)="canceled()">Mégse</button>
                <button class="btn btn-outline-primary" (click)="saveHouse()">Mentés</button>
            </div>
        </form>
    </div>
</div>